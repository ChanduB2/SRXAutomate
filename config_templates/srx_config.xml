<?xml version="1.0" encoding="UTF-8"?>
<!-- 
SRX Configuration Template
This template provides the XML structure for Juniper SRX configuration
Used for reference and advanced configuration scenarios
-->
<configuration>
    <interfaces>
        <interface>
            <name>ge-0/0/1</name>
            <unit>
                <name>0</name>
                <description>Automated configuration interface</description>
                <family>
                    <inet>
                        <address>
                            <name>192.168.10.1/24</name>
                        </address>
                    </inet>
                </family>
            </unit>
        </interface>
    </interfaces>
    
    <security>
        <zones>
            <security-zone>
                <name>trust</name>
                <interfaces>
                    <name>ge-0/0/1.0</name>
                </interfaces>
                <host-inbound-traffic>
                    <system-services>
                        <name>ssh</name>
                    </system-services>
                    <system-services>
                        <name>ping</name>
                    </system-services>
                    <system-services>
                        <name>dhcp</name>
                    </system-services>
                </host-inbound-traffic>
            </security-zone>
            
            <security-zone>
                <name>untrust</name>
                <screen>untrust-screen</screen>
                <interfaces>
                    <name>ge-0/0/0.0</name>
                </interfaces>
                <host-inbound-traffic>
                    <system-services>
                        <name>dhcp</name>
                    </system-services>
                </host-inbound-traffic>
            </security-zone>
        </zones>
        
        <policies>
            <policy>
                <from-zone-name>trust</from-zone-name>
                <to-zone-name>untrust</to-zone-name>
                <policy>
                    <name>allow-http</name>
                    <match>
                        <source-address>any</source-address>
                        <destination-address>any</destination-address>
                        <application>junos-http</application>
                    </match>
                    <then>
                        <permit/>
                    </then>
                </policy>
                <policy>
                    <name>allow-https</name>
                    <match>
                        <source-address>any</source-address>
                        <destination-address>any</destination-address>
                        <application>junos-https</application>
                    </match>
                    <then>
                        <permit/>
                    </then>
                </policy>
                <policy>
                    <name>allow-dns</name>
                    <match>
                        <source-address>any</source-address>
                        <destination-address>any</destination-address>
                        <application>junos-dns-udp</application>
                    </match>
                    <then>
                        <permit/>
                    </then>
                </policy>
            </policy>
        </policies>
        
        <nat>
            <source>
                <rule-set>
                    <name>trust-to-untrust</name>
                    <from>
                        <zone>trust</zone>
                    </from>
                    <to>
                        <zone>untrust</zone>
                    </to>
                    <rule>
                        <name>source-nat-rule</name>
                        <match>
                            <source-address>192.168.10.0/24</source-address>
                        </match>
                        <then>
                            <source-nat>
                                <interface/>
                            </source-nat>
                        </then>
                    </rule>
                </rule-set>
            </source>
        </nat>
        
        <screen>
            <ids-option>
                <name>untrust-screen</name>
                <icmp>
                    <ping-death/>
                </icmp>
                <ip>
                    <source-route-option/>
                    <tear-drop/>
                </ip>
                <tcp>
                    <syn-flood>
                        <alarm-threshold>1024</alarm-threshold>
                        <attack-threshold>200</attack-threshold>
                        <source-threshold>1024</source-threshold>
                        <destination-threshold>2048</destination-threshold>
                        <timeout>20</timeout>
                    </syn-flood>
                    <land/>
                </tcp>
            </ids-option>
        </screen>
    </security>
    
    <system>
        <host-name>SRX-Automation</host-name>
        <time-zone>UTC</time-zone>
        <services>
            <ssh>
                <root-login>allow</root-login>
                <protocol-version>v2</protocol-version>
            </ssh>
            <netconf>
                <ssh/>
            </netconf>
            <web-management>
                <https>
                    <system-generated-certificate/>
                </https>
            </web-management>
        </services>
        <syslog>
            <archive>
                <size>100k</size>
                <files>3</files>
            </archive>
            <user>
                <name>*</name>
                <contents>
                    <name>any</name>
                    <facility>authorization</facility>
                    <level>info</level>
                </contents>
            </user>
            <host>
                <name>192.168.10.100</name>
                <contents>
                    <name>any</name>
                    <facility>any</facility>
                    <level>info</level>
                </contents>
            </host>
        </syslog>
    </system>
    
    <routing-options>
        <static>
            <route>
                <name>0.0.0.0/0</name>
                <next-hop>dhcp</next-hop>
            </route>
        </static>
    </routing-options>
</configuration>
